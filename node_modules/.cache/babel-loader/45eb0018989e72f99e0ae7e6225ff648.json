{"ast":null,"code":"import { takeEvery, put } from 'redux-saga/effects';\nimport * as actions from '../actions/models';\nimport * as types from '../types/models';\nimport axios from 'axios';\nimport { API_URL } from '../configuration';\n\nfunction* fetchModels(action) {\n  try {\n    const response = yield axios.post(`${API_URL}`, action.payload, {\n      mode: 'cors',\n      headers: {\n        'Accept': '*/*',\n        'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW'\n      }\n    }).then(response => {\n      if (response.status == 200) {\n        if (response.success == false) {\n          put(actions.failModelApiCall(''));\n        } else {\n          put(actions.completeModelApiCall(response));\n        }\n      }\n    });\n  } catch (error) {\n    console.log(error);\n    yield put(actions.failModelApiCall(''));\n  }\n}\n\nexport function* watchFetchModels() {\n  yield takeEvery(types.MODEL_API_CALL_STARTED, fetchModels);\n}","map":{"version":3,"names":["takeEvery","put","actions","types","axios","API_URL","fetchModels","action","response","post","payload","mode","headers","then","status","success","failModelApiCall","completeModelApiCall","error","console","log","watchFetchModels","MODEL_API_CALL_STARTED"],"sources":["/Users/saulcontreras/Desktop/Tesis/music-genre-detector/src/sagas/models.js"],"sourcesContent":["import {\n    takeEvery,\n    put,\n} from 'redux-saga/effects';\n\nimport * as actions from '../actions/models';\nimport * as types from '../types/models';\nimport axios from 'axios';\n\nimport { API_URL } from '../configuration';\n\nfunction* fetchModels(action) {\n\n    try {\n        const response = yield axios.post(\n          `${API_URL}`,\n          action.payload,\n          {\n            mode: 'cors',\n            headers: {\n                'Accept': '*/*',\n                'Content-Type': 'multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW',\n            },\n          }\n        )\n        .then(response => {\n            if(response.status == 200){\n                if(response.success == false){\n                    put(actions.failModelApiCall(''))\n                } else {\n                    put(actions.completeModelApiCall(response))\n                }\n            }\n        })\n    } catch (error) {\n        console.log(error)\n        yield put(actions.failModelApiCall(''))\n    }\n}\n  \nexport function* watchFetchModels() {\n    yield takeEvery(\n        types.MODEL_API_CALL_STARTED,\n        fetchModels,\n    );\n}"],"mappings":"AAAA,SACIA,SADJ,EAEIC,GAFJ,QAGO,oBAHP;AAKA,OAAO,KAAKC,OAAZ,MAAyB,mBAAzB;AACA,OAAO,KAAKC,KAAZ,MAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,SAASC,OAAT,QAAwB,kBAAxB;;AAEA,UAAUC,WAAV,CAAsBC,MAAtB,EAA8B;EAE1B,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAN,CACpB,GAAEJ,OAAQ,EADU,EAErBE,MAAM,CAACG,OAFc,EAGrB;MACEC,IAAI,EAAE,MADR;MAEEC,OAAO,EAAE;QACL,UAAU,KADL;QAEL,gBAAgB;MAFX;IAFX,CAHqB,EAWtBC,IAXsB,CAWjBL,QAAQ,IAAI;MACd,IAAGA,QAAQ,CAACM,MAAT,IAAmB,GAAtB,EAA0B;QACtB,IAAGN,QAAQ,CAACO,OAAT,IAAoB,KAAvB,EAA6B;UACzBd,GAAG,CAACC,OAAO,CAACc,gBAAR,CAAyB,EAAzB,CAAD,CAAH;QACH,CAFD,MAEO;UACHf,GAAG,CAACC,OAAO,CAACe,oBAAR,CAA6BT,QAA7B,CAAD,CAAH;QACH;MACJ;IACJ,CAnBsB,CAAvB;EAoBH,CArBD,CAqBE,OAAOU,KAAP,EAAc;IACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACA,MAAMjB,GAAG,CAACC,OAAO,CAACc,gBAAR,CAAyB,EAAzB,CAAD,CAAT;EACH;AACJ;;AAED,OAAO,UAAUK,gBAAV,GAA6B;EAChC,MAAMrB,SAAS,CACXG,KAAK,CAACmB,sBADK,EAEXhB,WAFW,CAAf;AAIH"},"metadata":{},"sourceType":"module"}